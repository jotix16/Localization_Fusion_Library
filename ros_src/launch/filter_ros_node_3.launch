<!-- Launch file for test_ekf_localization_node_bag1 -->

<launch>
    <!-- <node pkg="tf2_ros" type="static_transform_publisher" name="map_enu"  args="0 0 0 0 0 0 map enu" /> -->
    <node pkg="tf2_ros" type="static_transform_publisher" name="map_odom"  args="0 0 0 0 0 0 map odom" />
    <node pkg="tf2_ros" type="static_transform_publisher" name="odom_base" args="0 0 0 0 0 0 odom base_link" />

    <node pkg="rosbag" type="play" name="rosbagplay" args="$(find LocalizationFusionLibrary)/test/test3.bag --clock -d 5 -s 0" required="true"/>

    <node name="filter_node" pkg="LocalizationFusionLibrary" type="filter_ros_node" output="screen">

      <param name="config" value="$(find LocalizationFusionLibrary)/ros_src/config/filter_config_3.json"/>
      <param name="map_frame" value="map"/>
      <param name="odom_frame" value="odom"/>
      <param name="base_link_frame" value="base_link"/>

      <param name="odom_nr"  value = "1"/>
      <param name="imu_nr"   value = "1"/>
      <param name="pose_nr"  value = "0"/>
      <param name="twist_nr" value = "0"/>
      <param name="gps_nr"   value = "0"/>

      <param name="odom0" value="/ardrone/odometry/raw"/>
      <param name="imu0" value="/ardrone/imu"/>
</node>
    <node type="rviz" name="rviz" pkg="rviz" args="-d $(find LocalizationFusionLibrary)/ros_src/rviz/config_file.rviz" />
</launch>
